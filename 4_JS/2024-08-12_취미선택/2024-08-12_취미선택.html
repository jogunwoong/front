<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>240812 복습 페이지</title>

    <style>
        .header {
            padding: 2%;
            border: 3px outset darkmagenta;
        }

        .content fieldset {
            width: 430px;
            text-align: right;
        }

        .content #result {
            width: 450px;
            height: 300px;
            border: 3px inset darkcyan;
        }
    </style>
</head>

<body>
    <div class="header">
        <p>
            체크 박스 선택 후 "카테고리 선택"을 누르면 하단 네모에 선택한 카테고리 출력<br>
            이 때, "전체 선택" 체크 박스 선택 시 모든 카테고리가 선택 되며, 선택 해제 시 모두 선택 해제 됨<br>
            또한 카테고리 체크박스를 전부 선택하면 "전체 선택" 체크 박스가 선택되고 <br>
            하나라도 선택이 되어있지 않으면 "전체 선택" 체크 박스는 선택 해제 됨.
        </p>
    </div>
    <br><br><br>
    <div class="content">
        <fieldset>
            <legend>취미</legend>
            <input type="checkbox" id="all" onchange="allCheck()">
            <label for="all">전체선택</label>

            <input type="checkbox" name="hobby" id="novel" onchange="checkboxTrigger()" value="소설">
            <label for="novel">소설</label>

            <input type="checkbox" name="hobby" id="poem" onchange="checkboxTrigger()" value="시">
            <label for="poem">시</label>

            <input type="checkbox" name="hobby" id="self-dev" onchange="checkboxTrigger()" value="자기계발">
            <label for="self-dev">자기계발</label>

            <input type="checkbox" name="hobby" id="travel" onchange="checkboxTrigger()" value="여행">
            <label for="travel">여행</label>

            <input type="checkbox" name="hobby" id="game" onchange="checkboxTrigger()" value="게임">
            <label for="game">게임</label>

            <input type="checkbox" name="hobby" id="fishing" onchange="checkboxTrigger()" value="낚시">
            <label for="fishing">낚시</label>

            <input type="checkbox" name="hobby" id="cooking" onchange="checkboxTrigger()" value="요리">
            <label for="cooking">요리</label>

            <input type="checkbox" name="hobby" id="hiking" onchange="checkboxTrigger()" value="등산">
            <label for="hiking">등산</label>

            <input type="checkbox" name="hobby" id="drama" onchange="checkboxTrigger()" value="드라마보기">
            <label for="drama">드라마보기</label>
        </fieldset>
        <script>
            function allCheck() {
                //전체선택에 대한 체크박스 요소(단 하나의 요소만 선택 -> id)

                //그 외의 체크블스들 (name속성이 hobby로 동일)
                let all = document.getElementById("all");
                let hList = document.getElementsByName("hobby");    //name 속성으로 해당 요소들을 배열 형태로 가지고 옴

                for (h of hList) {
                    h.checked = all.checked;    //전체선택 체크박스의 체크상태(checked)를 그 외의 체크박스들이 적용
                }
            }
            function checkboxTrigger() {

                let hList = document.getElementsByName("hobby");
                let allChecked = true;
                for (let h of hList) {
                    if (!h.checked) { allChecked = false; break; }


                }
                document.getElementById("all").checked = allChecked;
            }
            function select() {
                let hList = document.getElementsByName("hobby");
                let hobbies = " ";

                for (let h of hList) {
                    if (h.checked) {

                        if (hobbies == " ")
                            hobbies = h.value;
                        else
                            hobbies += "/" + h.value;
                    }
                }
                document.getElementById("result").innerText = hobbies;

            }
        </script>

        <br>

        <button onclick="select()">카테고리 선택</button>

        <br><br>

        <div id="result"></div>
    </div>
</body>

</html>